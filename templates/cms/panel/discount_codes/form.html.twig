{% extends 'cms/panel/page.html.twig' %}

{% form_theme form _self %}

{% block date_widget %}
    <input type="text" {{ block('widget_attributes') }} {% if value is not empty %}value="{{ value }}" {% endif %}/>
{% endblock date_widget %}

{% block stylesheet %}
    <!-- bootstrap-datetimepicker -->
    <link href="{{ asset('vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css')}}" rel="stylesheet">
{% endblock %}

{% block content %}
                    {{ form_start(form, {'attr' : {'class' : 'form-horizontal form-label-left'}}) }}
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12" for="name"> {{ form_label(form.code) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.code, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12" for="email">{{ form_label(form.discount) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.discount, {'attr' : {'class' : 'form-control col-md-7 col-xs-12', 'min' : '1', 'max' : '99', 'step' : '1'}}) }}
                        </div>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12" for="email">{{ form_label(form.expiry_date) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          <div class='input-group date' id="calendar">
                              {{ form_widget(form.expiry_date, {'attr' : {'class' : 'form-control'}}) }}
                              <span class="input-group-addon">
                                 <span class="glyphicon glyphicon-calendar" ></span>
                              </span>
                          </div>
                        </div>
                      </div>                              
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-xs-12 text-center">
                          <a class="btn btn-default" href="{{ path('discount_code_list') }}">Discount codes list</a>
                          {{ form_widget(form.save, {'attr' : {'class' : 'btn btn-success'}}) }}
                          
                        </div>
                      </div>
                    {{ form_end(form) }}
{% endblock %}

{% block javascript %}
    <!-- bootstrap-daterangepicker -->
    <script src="{{ asset('vendors/moment/min/moment.min.js') }}"></script>
    <script src="{{ asset('vendors/bootstrap-daterangepicker/daterangepicker.js') }}"></script>
    <!-- bootstrap-datetimepicker -->    
    <script src="{{ asset('vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js') }}"></script>

    <script type="text/javascript">       
        $('#form_expiry_date').datetimepicker({
            format: 'DD-MM-YYYY'
        });
        $('#calendar').datetimepicker({
            format: 'DD-MM-YYYY'
        });
        $('#discount_code_form_expiry_date').datetimepicker({
            format: 'DD-MM-YYYY'
        });
    </script>

{% endblock %}