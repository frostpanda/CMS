{% extends '/cms/panel/page.html.twig' %}

{% form_theme form '/themes/custom_form_errors.html.twig' %}

{% block content %}
                    {{ form_start(form, {'attr' : {'class' : 'form-horizontal form-label-left'}}) }}
                    
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Order number:</label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          <input type="text" class ="form-control col-md-7 col-xs-12" value="{{ order.orderNumber }}" disabled> 
                        </div>
                      </div>
                    {% if order.DiscountCode is not null %}
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Discount code:</label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          <input type="text" class ="form-control col-md-7 col-xs-12" value="{{ order.discountCode.code }}" disabled> 
                        </div>
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Discount value:</label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          <input type="text" class ="form-control col-md-7 col-xs-12" value="{{ order.discountCode.discount }}%" disabled> 
                        </div>
                      </div>
                    {% endif %}
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.name) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.name, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.name) }}
                      </div>
                        
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.surname) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.surname, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.surname) }}
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.company) }}</label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.company, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.company) }}
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.city) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.city, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.city) }}
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.zip) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.zip, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.zip) }}
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.street) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.street, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.street) }}
                      </div>
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.house) }}</label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.house, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.house) }}
                      </div>     
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.flat_number) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.flat_number, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.flat_number) }} 
                      </div>  
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.email) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.email, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.email) }}
                      </div>  
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.phone) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.phone, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                        {{ form_errors(form.phone) }}
                      </div>  
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.shipping_method) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.shipping_method, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                      </div>  
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">{{ form_label(form.payment_method) }} <span class="required">*</span>
                        </label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          {{ form_widget(form.payment_method, {'attr' : {'class' : 'form-control col-md-7 col-xs-12'}}) }}
                        </div>
                      </div>  
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Order price:</label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                          <input type="text" class ="form-control col-md-7 col-xs-12" value="{{ order.Total }}" disabled> 
                        </div>
                      </div>   
                      <div class="item form-group">
                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Ordered products:</label>
                        <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12"> 
                            <table class="table table-bordered">
                                <thead>
                                        <tr>
                                          <th>Product name</th>
                                          <th>Quantity</th>
                                          <th>Cost</th>
{#                                          <th>Action</th>#}
                                        </tr>
                                    </thead>
                                <tbody>
                                {% for product in order.orderedProducts %}
                                    <tr>
                                      <td>{{ product.product.getName }}</td>
                                      <td>{{ product.quantity }}</td>
                                      <td>{{ product.cost }}</td>
{#                                      <td class="last">
                                          <a href="{{ path('modify_order_product_quantity', {'orderNumber' : orderNumber, 'productID' : product.id}) }}"><i class="fa fa-edit"></i> </a>
                                          <a href="{{ path('delete_product_from_order', {'orderNumber' : orderNumber, 'productID' : product.id}) }}"><i class="fa fa-trash"></i> </a>
                                      </td>#}
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>   
                        </div>
                      </div>   
                      <div class="ln_solid"></div>
                      <div class="form-group">
                        <div class="col-xs-12 text-center">
                          <a class="btn btn-default" href="{{ path('order_list') }}">Order list</a>
                          {{ form_widget(form.submitOrder, {'attr' : {'class' : 'btn btn-success'}}) }}
                        </div>
                      </div>
                    {{ form_end(form) }}
{% endblock %}